<html>
    <head>
        <title>
            mIQey tlhIngan Hol nompuq
        </title>
        <script src="ListBoy.js"></script>
        <script src="ListBoyPOV.js"></script>
        <style>
            :root {
                --background: black;
                --strong-borders: red;
                --weak-borders: white;
                --text: white;
                --unknown: green; /* make it obviously wrong until I can see it */
            }
            h1 {
                text-align: center;
            }
            div {
                margin: 3px;
                text-align: center;
            }

            .dictionary {
                display: flex;
                flex-wrap: wrap;
                justify-content: center;
                text-align: center;
                flex-direction: column;
            }

            .array {
                border: 5px solid var(--unknown);
            }

            /* english */
            em, .simple-key-default {
                font-style: italic;
            }

            /* tlhingan */
            strong, .string-default {
                font-weight: bolder;
            }

            .complex-dictionary-entry {
                border: 1px solid var(--strong-borders);
            }

            .complex-entry-header {
                text-decoration: underline;
            }

            .complex-entry-body {
                margin: 0px;
            }


            body {
                background: var(--background);
                color: var(--text);
            }

            .simple-separator::after {
                content: "‚ÄÉ"; /* emspace */
            }

            .horizontal {
                flex-direction: row;
            }

            /* For POV tables */
            table {
                border-collapse: collapse;
                margin:auto;
            }
            td {
                border: 1px solid var(--weak-borders);
                padding: 3px;
                text-align: center;
            }
            tr:first-child td {
                border-top: 0;
            }
            tr td:first-child {
                border-left: 0;
            }
            tr:last-child td {
                border-bottom: 0;
            }
            tr td:last-child {
                border-right: 0;
            }
        </style>
    </head>
    <script>
        let data = {
            "target.classList.add": "horizontal",
            // Adverbs: { },
            Verbs: {
                "target.classList.add": "horizontal",
                Prefix: {
                    "no object declarative": new POV(
                        "1Ô∏è‚É£jI-", "1Ô∏è‚É£bI-", "`none", "ma-", "Su-", "`none"),
                    "object declarative": new POV(
                        new POV("", "1Ô∏è‚É£qa-", "1Ô∏è‚É£vI-", "", "Sa-", "vI-"),
                        new POV("1Ô∏è‚É£cho-", "", "1Ô∏è‚É£Da-", "ju-", "", "1Ô∏è‚É£Da-"),
                        new POV("1Ô∏è‚É£mu-", "Du-", "`none", "nu-", "lI-", "`none"),
                        new POV("", "pI-", "wI-", "", "re-", "DI-"),
                        new POV("tu-", "", "bo-", "che-", "", "bo-"),
                        new POV("mu-", "nI-", "lu-", "nu-", "lI-", "`none")),
                    "no object imperative": new POV("", "yI-", "", "", "pe-", ""),
                    "object imperative": new POV(
                        "",
                        new POV("HI-", "", "yI-", "gho-", "", "tI-"),
                        "",
                        "",
                        new POV("HI-", "", "yI-", "gho-", "", "tI-"),
                        ""),
                    "`**-lu'** (3 ≥·µà Singular ‚Åª¬π)": new POV("vI-", "Da-", "`none", "wI-", "bo-", "lu-"),
                },
                // Verbs: { },
                Suffix: {
                    "1: Oneself/one another": {
                        "`reflexive (e.g. *themselves*)": "1Ô∏è‚É£-'egh",
                        "`reciprocal (e.g. *each other*)": "1Ô∏è‚É£-chuq",
                    },
                    "2: Volition/predisposition": {
                        need : "1Ô∏è‚É£-nIS",
                        "willing to": "1Ô∏è‚É£-qang",
                        "is afraid to": "1Ô∏è‚É£-vIp",
                        "`[inanimate] *ready / prepared*": "1Ô∏è‚É£-beH",
                        "`[w/feelings] *ready / set up*": "1Ô∏è‚É£-rup",

                    },
                    "3: Change": {
                        "`state / direction *become / begin to*": "1Ô∏è‚É£-choH",
                        resume: "1Ô∏è‚É£-qa'",
                    },
                    "4: Cause": {
                        "`*cause* (imperative)": "1Ô∏è‚É£-moH",
                    },
                    "5: Indefenite subject/ability": {
                        can: "1Ô∏è‚É£-laH",
                        "`indefinite subject (passive voice / *there is*)": "-lu'",
                    },
                    "6: Qualification": {
                        "clearly / perfectly": "1Ô∏è‚É£-chu'",
                        "certainly / undoubtedly": "1Ô∏è‚É£-bej",
                        "`*seemingly / apparently* (uncertainty)": "1Ô∏è‚É£-law'",
                        obviously: "1Ô∏è‚É£-ba'",
                    },
                    "7: Aspect": {
                        "continuous": {
                            "in general": "-taH",
                            "towards a goal": "-lI'",
                        },
                        "`(perfective / completed) ‚âà*have*": {
                            normal: "-pu'",
                            deliberately: "-ta'",
                        },
                    },
                    "8: Honorific": {
                        "honorific": "1Ô∏è‚É£-neS",
                    },
                    "9: Syntactic markers": {
                        "one who does": "-wI'",
                        "which / who / that does": "-bogh",
                        "interrogative": "1Ô∏è‚É£-'a'",
                        "if": "-chugh",
                        "as soon as": "-DI'",
                        "before": "-pa'",
                        "while": "-[taH]vIS",
                        "`*for / so that / in order to* (purpose)": "-meH",
                        "due to": "-mo'",
                        "may / let": "-jaj",
                        "`*-ness / -tion* (nominalizer)": "-ghach",
                    },
                    "Rovers": {
                        very: "1Ô∏è‚É£-qu'",
                        "`*not*": {
                            "`[declarative]": "1Ô∏è‚É£-be'",
                            "`[imperative / refusal] *don't* / *won't* (before 9)": "-Qo'",
                        },
                        "`*undo (dis-, mis-, de-)* (before 1)": "-Ha'",
                    },
                },
            },
            Nouns: {
                // Prefix: { },
                Suffix: {
                    "1: Grandeur": {
                        augmentative: "1Ô∏è‚É£-'a'",
                        diminutive: "1Ô∏è‚É£-Hom",
                        endearment: "-oy",
                    },
                    "2: Quantity": {
                        plural: {
                            "`[üí¨]": "-pu'",
                            "`[body part]": "-Du'",
                            "`[else]": "-mey",
                        },
                    },
                    "3: Qualification": {
                        "so-called": "1Ô∏è‚É£-qoq",
                        apparent: "1Ô∏è‚É£-Hey",
                        definite: "1Ô∏è‚É£-na'",
                    },
                    "4: Possessive/Specification": {
                        possessive: new POV({
                                "`[üí¨]": "1Ô∏è‚É£-wI'",
                                "`[else]": "1Ô∏è‚É£-wIj",
                            }, {
                                "`[üí¨]": "1Ô∏è‚É£-lI'",
                                "`[else]": "1Ô∏è‚É£-lIj",
                            }, "1Ô∏è‚É£-Daj", {
                                "`[üí¨]": "1Ô∏è‚É£-ma'",
                                "`[else]": "1Ô∏è‚É£-maj",
                            }, {
                                "`[üí¨]": "-ra'",
                                "`[else]": "-raj",
                            }, "-chaj"),
                        "this/these": "1Ô∏è‚É£-vam",
                        "that/those": "1Ô∏è‚É£-vetlh",
                    },
                    "5: Syntactic": {
                        "`*at / in / on / by / to* (locative)": "1Ô∏è‚É£-Daq",
                        from: "1Ô∏è‚É£-vo'",
                        "due to, because of": "1Ô∏è‚É£-mo'",
                        "`*for* (beneficiary)": "-vaD",
                        "`topic / emphasis": "1Ô∏è‚É£-'e'",
                    },
                },
            },
            "`**chuvmey**": {
                Pronouns: {
                    subject: new POV(
                        "jIH", "SoH", {
                            "`[üí¨]": "ghaH",
                            "`[else]": "'oH",
                        },
                        "maH", "tlhIH", {
                            "`[üí¨]": "chaH",
                            "`[else]": "bIH",
                        }
                    ),
                    verb: {
                        "to be": "`&lt;object&gt; &lt;pronoun&gt; [&lt;subject&gt;**-'e'**]",
                    },
                },
                "`**mI'**": {
                        0: "pagh",
                        1: "wa'",
                        2: "cha'",
                        3: "wej",
                        4: "loS",
                        5: "vagh",
                        6: "jav",
                        7: "Soch",
                        8: "chorgh",
                        9: "Hut",
                        10: "-maH",
                        100: "-vatlh",
                        "1K": "-SaD / -SanID",
                        "10K": "-netlh",
                        "100K": "-bIp",
                        "1M": "-'uy'",
                        "`*·µó ∞* (ordinal)": "-DIch",
                        "`*-ce / times* (repetion)": "-logh",
                },
                "Question words": {
                    Pronouns: {
                        "`[‚âàüí¨] *who / whom*": "'Iv",
                        "`[else] *what*": "nuq",
                    },
                    Adverbs: {
                        where: "nuqDaq",
                        when: "1Ô∏è‚É£ghorgh",
                        why: "1Ô∏è‚É£qatlh",
                        how: "1Ô∏è‚É£chay'",
                    },
                    "after noun": {
                        "how many / how much": "1Ô∏è‚É£'ar",
                    },
                    right: "qar'a'",
                },
            },
            "Names of letters": {
                "glottal stop": "qaghwI'",
                "the consonant &lt;consonant&gt;": "-ay",
                "the vowel &lt;vowel&gt;": "'&lt;vowel&gt;t",
            },
        }

        function applyEntryToObject(func) {
            return dict => Object.entries(dict).reduce(func, {})
        }

        function cleanLevelsEntry(filtered, [key, value]) {
            if (typeof(value) === "string" && value.startsWith('1Ô∏è‚É£')) {
                filtered[key] = value.substring('1Ô∏è‚É£'.length);
            } else {
                filtered[key] = value;
            }
            return filtered;
        }
        function cleanLevelsString(value) {
            if (value.startsWith('1Ô∏è‚É£')) {
                return value.substring('1Ô∏è‚É£'.length);
            }
            return value;
        }

        function levelFilterEntry(filtered, [key, value])
        {
            if (typeof(value) !== "string" || key === ListBoy.classListAdd) {
                filtered[key] = value;
            } else if (value.startsWith('1Ô∏è‚É£')) {
                filtered[key] = value; //value.substring('1Ô∏è‚É£'.length); // if it's in a dictionary, you don't need to remove the value, because the filter string will remove it.
            }
            return filtered;
        }
        function levelFilterString(value) {
            if (value.startsWith('1Ô∏è‚É£')) {
                return value.substring('1Ô∏è‚É£'.length);
            }
            return "";
        }

        ListBoy.RenderTo(data, "main", { object: applyEntryToObject(cleanLevelsEntry), string: cleanLevelsString});
        // ListBoy.RenderTo(data, "main");

        let povLegend = new POV(
            "first person singular (e.g. I / me)",
            "second person singular (e.g. you)",
            "third person singular (e.g. he, hers, it)",
            "first person plural (e.g. we)",
            "second person plural (e.g. y'all)",
            "third person plural (e.g. they, these)")
        ListBoy.RenderTo(povLegend, "pov");
    </script>

    <body>
        <h1>mIQey tlhIngan Hol nompuq</h1>
        <div id="main"></div>
        <button onclick='document.getElementById("main").innerHTML = "";ListBoy.RenderTo(data, "main", { object: applyEntryToObject(levelFilterEntry), string: levelFilterString })'>Level 1</button>
        <h2>Key</h2>
        <ul>
            <li><strong>tlhingan Hol</strong></li>
            <li><em>English</em></li>
            <li>descriptive</li>
            <li>[condition]</li>
            <li><em>[optional]</em> <strong>[optional]</strong></li>
            <li>&lt;fill in&gt;</li>
            <li>üí¨: Being capable of language</li>
            <li id="pov" style="float:left;"></li>
        </ul>
    </body>
</html>
